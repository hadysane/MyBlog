{% extends 'base.html.twig' %}

{%  block main %}

<h1>Category</h1>

<a class="btn btn-primary mt-5" href={{path('new_category')}}> New Category </a>

    <table class="table table-hover">
        <thead class="table-primary">
            <tr>
                <th> ID </th>
                <th> Title </th>
            </tr>
        </thead>

        <tbody>
        {% for category in categories %}

        <tr>
            <td>{{ category.id }}</td>
            <td>{{ category.title }}</td>
            <td>
                <a class="btn btn-primary" href={{path('category_show', {'id': category.id})}}>Show</a>
            </td>

            <td>
                <a href={{path('category_edit', {'id': category.id})}}>Edit</a>
            </td>
            <td>
                <form method="POST" action="{{ path('category_delete', {'id':category.id}) }}"
                 onsubmit="return confirm('Are you sure you want to delete this item ?')"
                >
                <button class="btn btn-danger">Delete</button>
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ category.id) }}">
                </form>
            </td>
        </tr>
        {% endfor %}
      
        </tbody>

    </table>


{% endblock %}

